# WebPrefs2ARM
Данный код является ответвлением стандартной библиотеки (https://github.com/afiskon/stm32-w5500) для модуля WizNet W5500. Код инициализации устройства составлен так, чтоб при каждом подключении Ethernet-кабеля к устройству был активирован поиск местного DHCP-сервера.

Требования к периферии:
- Прерывание по таймеру 1сек (в примере зацеплен на SysTick) для DHCP-Heartbeat
- Прерывание по таймеру 0,2 сек (без возможности повторного входа в это же прерывание до завершения предыдущего, в примере завязано на суперцикл) для опроса статуса W5500.
- Прерывание по GPIO (событие от сокета)
- Hardware SPI для общения с W5500 (можно конечно через Software - но цена = потеря скорости)
- (Опционально) I2C-Master для OLED-дисплея на SSD1306 128x32, в тестовом проекте используется для отображения статуса устройства, а также просмотра полученных настроек W5500. 
 
Реализованы следующие возможности:
- Текст-ориентированный коммандный интерфейс на основании TCP-сокетов (он же TelNet).
- Клиентское GUI-приложение (С# + GTK) реализующее удобное подключение к устройству.
- Простая привязка редактируемой в SRAM переменной в виде указателя.

Структура репозитория:
- "chipConf" - проект клиентского приложения Mono (C#) для запуска на ПК. 
- "WisNetPrefTestProject" - проект тестового приложения на STM32F103VET6 созданный в CubeIDE. На момент последней заливки версия куба мигрировала до 1.8.1. 
- "testSocketServer" - тестовый сервер для отладки приложения на ПК без использования железного устройства. Поднимает порт 8080 на Localhost

Зависимости:
- GTK-Sharp - лучше всего качать с https://www.mono-project.com/download/stable/#download-win в разделе "GTK# for .NET", когда будут исследованы возможности упаковки в Portable версию приложения, создам отдельный run-пакет для Win
